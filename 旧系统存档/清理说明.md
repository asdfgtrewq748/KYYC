# 项目清理说明

## 📅 清理时间
2025年11月10日

## 🎯 清理目的
- 移除过期的修复脚本和文档
- 整理旧版本训练系统
- 保持项目结构清晰

## 📂 已移动到 `旧系统存档/`

### 核心文件
- `STGCN.py` - 旧版本Streamlit训练界面（4063行）
- `train_simple.py` - 旧的简化训练脚本

### 模型文件
- `best_stgcn_model.pth` - STGCN最佳模型
- `simple_best_model.pth` - 简化版最佳模型
- `simple_results.npz` - 训练结果
- `simple_scalers.pkl` - 数据标准化器

### 启动脚本
- `启动训练界面.bat` - Streamlit界面启动
- `直接启动.bat` - 直接启动脚本
- `安装依赖.bat` - 依赖安装

### 诊断修复脚本
- `diagnose_nan.py` - NaN诊断
- `verify_training_ready.py` - 训练就绪验证
- `force_disable_feature_engineering.py` - 强制禁用特征工程
- `safe_training_config.py` - 安全训练配置
- `一键验证.py` - 一键验证脚本
- `analyze_spatial_distribution.py` - 空间分布分析
- `check_geo_features.py` - 地质特征检查

### 文档
- `使用说明.md` - 旧系统使用说明
- `如何启动.md` - 旧系统启动指南

## 🗑️ 已删除文件

### 修复指南文档（已过期）
- `NaN问题修复指南.md`
- `优化完成报告.md`
- `优化报告.md`
- `修改建议.md`
- `应急修复方案.md`
- `快速开始.md`
- `最终修复-简化检查.md`
- `紧急修复-禁用特征工程.md`
- `紧急修复指南.md`
- `终极NaN修复方案.md`
- `终极修复-深度诊断.md`
- `终极解决方案.md`
- `训练指南.md`
- `阶段3-Transformer训练指南.md`

### 临时脚本（已合并）
- `快速检查.bat`
- `紧急停止并重启.bat`
- `使用新训练系统.bat`
- `安装PyTorch.bat`

## ✅ 当前活跃文件

### 核心训练系统
```
simple_dataloader.py      - 数据加载器
stable_transformer.py     - Transformer模型
train_safe.py            - 训练脚本
开始训练.bat              - 主启动脚本
启动安全训练.bat          - 备用启动
check_ready.py           - 环境检查
```

### 数据处理
```
preprocess/              - 预处理脚本文件夹
processed_data/          - 处理后数据
测试钻孔/                - 地质数据
kaungya/                - 压力数据
```

### 文档
```
README.md               - 主文档
安全训练系统说明.md      - 详细说明
requirements.txt        - 依赖列表
```

### 工具脚本
```
debug_data.py           - 数据调试
regenerate_data.py      - 数据重生成
geology_features_extracted.csv - 地质特征缓存
```

## 📊 清理效果

**清理前：**
- 根目录文件: ~60个
- 文档: 18个MD文件
- 脚本: 20+个py文件
- 批处理: 10+个bat文件

**清理后：**
- 根目录文件: ~25个（核心文件）
- 文档: 2个MD文件（README + 说明）
- 脚本: 8个py文件（核心+工具）
- 批处理: 2个bat文件（启动脚本）
- 旧系统: 统一归档到 `旧系统存档/`

## 🎯 维护建议

1. **不要修改 `旧系统存档/` 中的文件** - 仅作参考
2. **新功能开发** - 在当前核心文件基础上扩展
3. **数据更新** - 运行 `regenerate_data.py`
4. **环境检查** - 运行 `check_ready.py`

## 📝 备注

- 旧系统仍可在 `旧系统存档/` 中找到
- 如需使用旧系统，需要将STGCN.py复制回根目录
- 建议使用新的安全训练系统（更稳定）
